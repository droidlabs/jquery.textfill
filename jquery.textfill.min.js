(function(e){e.fn.textfill=function(a){a=jQuery.extend({maxFontSize:100,innerTag:"h1",percent:100,height:null,width:null,lineHeight:null},a);this.each(function(){var f=e(a.innerTag+":visible:first",this),b=e(this).find(".textfill-helper-"+a.innerTag),d=a.maxFontSize,i=(a.width||f.width())*(a.percent/100)-5,c,g,h;b.length||(b=e("<span>",{"class":"textfill-helper-"+a.innerTag}),b.css({position:"absolute",visibility:"hidden"}),b.insertAfter(f));b.html(f.html());do a.lineHeight?c=a.lineHeight:(c=parseInt(b.css("line-height"),
10),c=3<c?c:d*c),h=a.height||c+2,b.css("font-size",d),c=b.width(),g=b.height(),d-=30>d?1:2;while((c>i||g>h)&&9<d);f.css("font-size",d)});return this}})(jQuery);